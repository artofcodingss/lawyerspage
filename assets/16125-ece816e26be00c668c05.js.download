(self.webpackChunkdoctolib=self.webpackChunkdoctolib||[]).push([[16125],{286556:(t,e,n)=>{var r=n(789465),s=n(977813);t.exports=function(t,e,n){(void 0!==n&&!s(t[e],n)||void 0===n&&!(e in t))&&r(t,e,n)}},642980:(t,e,n)=>{var r=n(646384),s=n(286556),o=n(228483),i=n(559783),u=n(513218),a=n(481704),c=n(636390);t.exports=function t(e,n,l,h,f){e!==n&&o(n,(function(o,a){if(f||(f=new r),u(o))i(e,n,a,l,t,h,f);else{var d=h?h(c(e,a),o,a+"",e,n,f):void 0;void 0===d&&(d=o),s(e,a,d)}}),a)}},559783:(t,e,n)=>{var r=n(286556),s=n(364626),o=n(477133),i=n(200278),u=n(738517),a=n(135694),c=n(701469),l=n(229246),h=n(644144),f=n(623560),d=n(513218),v=n(968630),p=n(936719),b=n(636390),m=n(959881);t.exports=function(t,e,n,y,x,R,C){var O=b(t,n),g=b(e,n),M=C.get(g);if(M)r(t,n,M);else{var S=R?R(O,g,n+"",t,e,C):void 0,Z=void 0===S;if(Z){var E=c(g),P=!E&&h(g),w=!E&&!P&&p(g);S=g,E||P||w?c(O)?S=O:l(O)?S=i(O):P?(Z=!1,S=s(g,!0)):w?(Z=!1,S=o(g,!0)):S=[]:v(g)||a(g)?(S=O,a(O)?S=m(O):d(O)&&!f(O)||(S=u(g))):Z=!1}Z&&(C.set(g,S),x(S,g,y,R,C),C.delete(g)),r(t,n,S)}}},105976:(t,e,n)=>{var r=n(406557),s=n(545357),o=n(430061);t.exports=function(t,e){return o(s(t,e,r),t+"")}},367762:t=>{t.exports=function(t,e){for(var n,r=-1,s=t.length;++r<s;){var o=e(t[r]);void 0!==o&&(n=void 0===n?o:n+o)}return n}},321463:(t,e,n)=>{var r=n(105976),s=n(816612);t.exports=function(t){return r((function(e,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,u=o>2?n[2]:void 0;for(i=t.length>3&&"function"==typeof i?(o--,i):void 0,u&&s(n[0],n[1],u)&&(i=o<3?void 0:i,o=1),e=Object(e);++r<o;){var a=n[r];a&&t(e,a,r,i)}return e}))}},636390:t=>{t.exports=function(t,e){if(("constructor"!==e||"function"!==typeof t[e])&&"__proto__"!=e)return t[e]}},229246:(t,e,n)=>{var r=n(498612),s=n(637005);t.exports=function(t){return s(t)&&r(t)}},682492:(t,e,n)=>{var r=n(642980),s=n(321463)((function(t,e,n){r(t,e,n)}));t.exports=s},959881:(t,e,n)=>{var r=n(698363),s=n(481704);t.exports=function(t){return r(t,s(t))}},981262:(t,e,n)=>{"use strict";n.d(e,{R:()=>c,m:()=>a});var r=n(487462),s=n(541909),o=n(100101),i=n(121216),u=n(852288),a=function(){function t(t){this.options=(0,r.Z)({},t.defaultOptions,t.options),this.mutationId=t.mutationId,this.mutationCache=t.mutationCache,this.observers=[],this.state=t.state||c(),this.meta=t.meta}var e=t.prototype;return e.setState=function(t){this.dispatch({type:"setState",state:t})},e.addObserver=function(t){-1===this.observers.indexOf(t)&&this.observers.push(t)},e.removeObserver=function(t){this.observers=this.observers.filter((function(e){return e!==t}))},e.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(u.ZT).catch(u.ZT)):Promise.resolve()},e.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},e.execute=function(){var t,e=this,n="loading"===this.state.status,r=Promise.resolve();return n||(this.dispatch({type:"loading",variables:this.options.variables}),r=r.then((function(){null==e.mutationCache.config.onMutate||e.mutationCache.config.onMutate(e.state.variables,e)})).then((function(){return null==e.options.onMutate?void 0:e.options.onMutate(e.state.variables)})).then((function(t){t!==e.state.context&&e.dispatch({type:"loading",context:t,variables:e.state.variables})}))),r.then((function(){return e.executeMutation()})).then((function(n){t=n,null==e.mutationCache.config.onSuccess||e.mutationCache.config.onSuccess(t,e.state.variables,e.state.context,e)})).then((function(){return null==e.options.onSuccess?void 0:e.options.onSuccess(t,e.state.variables,e.state.context)})).then((function(){return null==e.options.onSettled?void 0:e.options.onSettled(t,null,e.state.variables,e.state.context)})).then((function(){return e.dispatch({type:"success",data:t}),t})).catch((function(t){return null==e.mutationCache.config.onError||e.mutationCache.config.onError(t,e.state.variables,e.state.context,e),(0,s.j)().error(t),Promise.resolve().then((function(){return null==e.options.onError?void 0:e.options.onError(t,e.state.variables,e.state.context)})).then((function(){return null==e.options.onSettled?void 0:e.options.onSettled(void 0,t,e.state.variables,e.state.context)})).then((function(){throw e.dispatch({type:"error",error:t}),t}))}))},e.executeMutation=function(){var t,e=this;return this.retryer=new i.m4({fn:function(){return e.options.mutationFn?e.options.mutationFn(e.state.variables):Promise.reject("No mutationFn found")},onFail:function(){e.dispatch({type:"failed"})},onPause:function(){e.dispatch({type:"pause"})},onContinue:function(){e.dispatch({type:"continue"})},retry:null!=(t=this.options.retry)?t:0,retryDelay:this.options.retryDelay}),this.retryer.promise},e.dispatch=function(t){var e=this;this.state=function(t,e){switch(e.type){case"failed":return(0,r.Z)({},t,{failureCount:t.failureCount+1});case"pause":return(0,r.Z)({},t,{isPaused:!0});case"continue":return(0,r.Z)({},t,{isPaused:!1});case"loading":return(0,r.Z)({},t,{context:e.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:e.variables});case"success":return(0,r.Z)({},t,{data:e.data,error:null,status:"success",isPaused:!1});case"error":return(0,r.Z)({},t,{data:void 0,error:e.error,failureCount:t.failureCount+1,isPaused:!1,status:"error"});case"setState":return(0,r.Z)({},t,e.state);default:return t}}(this.state,t),o.V.batch((function(){e.observers.forEach((function(e){e.onMutationUpdate(t)})),e.mutationCache.notify(e)}))},t}();function c(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}},475754:(t,e,n)=>{"use strict";n.d(e,{D:()=>f});var r=n(487462),s=n(667294),o=n(100101),i=n(852288),u=n(894578),a=n(981262),c=function(t){function e(e,n){var r;return(r=t.call(this)||this).client=e,r.setOptions(n),r.bindMethods(),r.updateResult(),r}(0,u.Z)(e,t);var n=e.prototype;return n.bindMethods=function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)},n.setOptions=function(t){this.options=this.client.defaultMutationOptions(t)},n.onUnsubscribe=function(){var t;this.listeners.length||(null==(t=this.currentMutation)||t.removeObserver(this))},n.onMutationUpdate=function(t){this.updateResult();var e={listeners:!0};"success"===t.type?e.onSuccess=!0:"error"===t.type&&(e.onError=!0),this.notify(e)},n.getCurrentResult=function(){return this.currentResult},n.reset=function(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})},n.mutate=function(t,e){return this.mutateOptions=e,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,(0,r.Z)({},this.options,{variables:"undefined"!==typeof t?t:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()},n.updateResult=function(){var t=this.currentMutation?this.currentMutation.state:(0,a.R)(),e=(0,r.Z)({},t,{isLoading:"loading"===t.status,isSuccess:"success"===t.status,isError:"error"===t.status,isIdle:"idle"===t.status,mutate:this.mutate,reset:this.reset});this.currentResult=e},n.notify=function(t){var e=this;o.V.batch((function(){e.mutateOptions&&(t.onSuccess?(null==e.mutateOptions.onSuccess||e.mutateOptions.onSuccess(e.currentResult.data,e.currentResult.variables,e.currentResult.context),null==e.mutateOptions.onSettled||e.mutateOptions.onSettled(e.currentResult.data,null,e.currentResult.variables,e.currentResult.context)):t.onError&&(null==e.mutateOptions.onError||e.mutateOptions.onError(e.currentResult.error,e.currentResult.variables,e.currentResult.context),null==e.mutateOptions.onSettled||e.mutateOptions.onSettled(void 0,e.currentResult.error,e.currentResult.variables,e.currentResult.context))),t.listeners&&e.listeners.forEach((function(t){t(e.currentResult)}))}))},e}(n(452943).l),l=n(114921),h=n(356553);function f(t,e,n){var u=s.useRef(!1),a=s.useState(0)[1],f=(0,i.lV)(t,e,n),d=(0,l.N)(),v=s.useRef();v.current?v.current.setOptions(f):v.current=new c(d,f);var p=v.current.getCurrentResult();s.useEffect((function(){u.current=!0;var t=v.current.subscribe(o.V.batchCalls((function(){u.current&&a((function(t){return t+1}))})));return function(){u.current=!1,t()}}),[]);var b=s.useCallback((function(t,e){v.current.mutate(t,e).catch(i.ZT)}),[]);if(p.error&&(0,h.L)(void 0,v.current.options.useErrorBoundary,[p.error]))throw p.error;return(0,r.Z)({},p,{mutate:b,mutateAsync:p.mutate})}}}]);
//# sourceMappingURL=16125-ece816e26be00c668c05.js.map