"use strict";(self.webpackChunkdoctolib=self.webpackChunkdoctolib||[]).push([[91655],{182330:(e,t,r)=>{r.d(t,{Z:()=>u});var n=r(45697),i=r.n(n),o=r(667294),a=r(494537),s=r(429697),c=r(354776),d=(r(715069),r(785893));const l=(0,o.forwardRef)(((e,t)=>{let{children:r,size:n,tabIndex:i}=e;return(0,d.jsx)("div",{ref:t,className:"dl-modal-transition",tabIndex:i,children:(0,d.jsx)(a.Z,{component:null,children:o.Children.map(r,(e=>e?(0,d.jsx)(s.Z,{classNames:"fullscreen"===n?"dl-modal-transition-fullscreen":"dl-modal-transition",appear:!0,timeout:c.C,children:e}):null))})})}));l.propTypes={children:i().node,size:i().oneOf(["DEPRECATED_framed","dialog","fullheight","fullscreen","large","medium","small"])};const u=l},310569:(e,t,r)=>{r.d(t,{Z:()=>s});var n=r(667294),i=r(429697),o=r(354776),a=(r(212417),r(785893));const s=(0,n.forwardRef)(((e,t)=>{let{children:r,...n}=e;return(0,a.jsx)(i.Z,{...n,timeout:o.C,classNames:"transition-fade",nodeRef:t,children:r})}))},962599:(e,t,r)=>{r.d(t,{Z:()=>l});var n=r(243844),i=r(870642);function o(e){return(0,i.Z)(e)||(t=e)&&"body"===t.tagName.toLowerCase()?function(){const e=window.document;let t=(0,i.Z)(e).innerWidth;if(!t){const r=e.documentElement.getBoundingClientRect();t=r.right-Math.abs(r.left)}return e.body.clientWidth<t}():e.scrollHeight>e.clientHeight;var t}const a=["template","script","style"],s=(e,t,r)=>{t=[].concat(t),[].forEach.call(e.children,(e=>{-1===t.indexOf(e)&&(e=>{let{nodeType:t,tagName:r}=e;return 1===t&&-1===a.indexOf(r.toLowerCase())})(e)&&r(e)}))};function c(e,t){t&&(e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden"))}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const l=class{constructor(){let{hideSiblingNodes:e=!0,handleContainerOverflow:t=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};d(this,"add",((e,t,r)=>{let i=this.modals.indexOf(e);const a=this.containers.indexOf(t);if(-1!==i)return i;if(i=this.modals.length,this.modals.push(e),this.hideSiblingNodes&&function(e,t){s(e,t,(e=>c(!0,e)))}(t,e.modalNode),-1!==a)return this.data[a].modals.push(e),i;const d={modals:[e],classes:r?r.split(/\s+/):[],overflowing:o(t)};return this.handleContainerOverflow&&function(e,t){const r={overflow:"hidden"};e.style={overflow:t.style.overflow,paddingRight:t.style.paddingRight},e.overflowing&&(r.paddingRight="".concat(parseInt((0,n.oB)(t,"paddingRight")||0,10)+(0,n.lk)(),"px")),(0,n.oB)(t,r)}(d,t),d.classes.forEach(n.cn.bind(null,t)),this.containers.push(t),this.data.push(d),i})),d(this,"remove",(e=>{const t=this.modals.indexOf(e);if(-1===t)return;const r=function(e,t){return function(e,t){let r=-1;return e.some(((e,n)=>!!t(e,n)&&(r=n,!0))),r}(e,(e=>-1!==e.modals.indexOf(t)))}(this.data,e),i=this.data[r],o=this.containers[r];i.modals.splice(i.modals.indexOf(e),1),this.modals.splice(t,1),0===i.modals.length?(i.classes.forEach(n.IV.bind(null,o)),this.handleContainerOverflow&&function(e,t){let{style:r}=e;Object.keys(r).forEach((e=>{t.style[e]=r[e]}))}(i,o),this.hideSiblingNodes&&function(e,t){s(e,t,(e=>c(!1,e)))}(o,e.modalNode),this.containers.splice(r,1),this.data.splice(r,1)):this.hideSiblingNodes&&c(!1,i.modals[i.modals.length-1].modalNode)})),d(this,"isTopModal",(e=>!!this.modals.length&&this.modals[this.modals.length-1]===e)),this.hideSiblingNodes=e,this.handleContainerOverflow=t,this.modals=[],this.containers=[],this.data=[]}}},661621:(e,t,r)=>{function n(e){let t;return!document.addEventListener?(document.attachEvent("onfocusin",e),t=()=>document.detachEvent("onfocusin",e)):(document.addEventListener("focus",e,!0),t=()=>document.removeEventListener("focus",e,!0)),{remove:t}}r.d(t,{Z:()=>n})},812411:(e,t,r)=>{function n(e,t){e&&(document.title=e,document.querySelector('meta[property="og:title"]').setAttribute("content",e)),t&&(document.querySelector('meta[name="description"]').setAttribute("content",t),document.querySelector('meta[property="og:description"]').setAttribute("content",t));const r=document.querySelector('meta[property="og:url"]');r&&r.setAttribute("content",window.location.href)}function i(e,t){if(void 0===t)return;let r=document.querySelector('link[rel="'.concat(e,'"]'));null===r&&(r=document.createElement("link")),r.href=t,r.rel=e,document.querySelector("head").appendChild(r)}r.d(t,{B:()=>n,_:()=>i})},575303:(e,t,r)=>{r.d(t,{f:()=>n});class n{constructor(){this.startMillisecs=null,this.endMillisecs=null}start(){this.startMillisecs=performance.now()}stop(){this.endMillisecs=performance.now()}durationMillisecs(){return this.endMillisecs-this.startMillisecs}}},355263:(e,t,r)=>{r.d(t,{v:()=>n});const n=e=>{const t=window.platforms.reactNativeAppVersion.split(".").map(Number),r=e.split(".").map(Number);let n=0;for(;n<t.length;n++){if(n===r.length)return!0;if(t[n]>r[n])return!0;if(t[n]<r[n])return!1}return!(n<r.length)||r.slice(n).every((e=>0===e))}},16418:(e,t,r)=>{r.d(t,{Z:()=>i});var n=r(355263);const i=()=>{var e;return(null===(e=window.platforms)||void 0===e?void 0:e.reactNative)&&"doctor"===window.platforms.businessUnit&&(0,n.v)("3.1.4")}},233370:(e,t,r)=>{function n(e){let t=null;if(null==e?t=new Error('"featureName" is missing (wrong number of arguments)'):"string"!==typeof e&&(t=new Error('"featureName" is not a string')),null!==t)throw console.error(t),t}r.d(t,{n:()=>n})},430020:(e,t,r)=>{function n(e,t){let r=null;if("decryptRecord.v1 compatibility"!==t&&"encryptRecord.v1 compatibility"!==t&&("object"!==typeof e?r=new Error('"trackingData" is not an object'):"subject_type"in e||"subjectType"in e||(r=new Error("subject_type is a required parameter (on ".concat(t,")"))),null!==r))throw console.error(r),r}r.d(t,{N:()=>n})},10691:(e,t,r)=>{function n(e,t){if(t.binaryCleartext){if(null==e||function(e){return e instanceof File||e instanceof Blob||e instanceof ArrayBuffer||ArrayBuffer.isView(e)}(e))return e;throw new Error("expected binary value")}return JSON.stringify(e)}function i(e,t){return t.binaryCleartext?e:JSON.parse(e)}r.d(t,{J:()=>i,c:()=>n})},842850:(e,t,r)=>{r.d(t,{t:()=>v});var n=r(66604),i=r.n(n);if(!/^(1385|1993|27421|40211)$/.test(r.j))var o=r(66212);var a=r(973650);if(!/^(1385|1993|27421|40211)$/.test(r.j))var s=r(575303);if(!/^(1385|1993|27421|40211)$/.test(r.j))var c=r(594731);if(!/^(1385|1993|27421|40211)$/.test(r.j))var d=r(384782);var l=r(957104),u=r(959440);if(!/^(1385|1993|27421|40211)$/.test(r.j))var f=r(10691);const h=Symbol("FalseyPassthrough");async function _(e,t,r,n){const{config:i,sourceRecord:c,clearKey:d}=n;let u=o.wc,_=null,m=!1,p=!1,y=null;const v=new s.f;v.start();try{if(i.falseyPassthrough===h&&!r)return p=!0,r;if(i.cleartextFallback&&!r)return m=!0,c[d];const{module:{fromBase64:o},tanker:s}=await e.force();i.binaryCiphertext||(r=o(r));const g=await(i.binaryCleartext?s.decryptData(r):s.decrypt(r)),w=(0,f.J)(g,i);return i.cleartextFallback&&"string"===typeof w&&"string"===typeof c[d]&&(y=w===c[d]),i.validateCleartext&&i.validateCleartext(w),w}catch(g){if(_=g,i.cleartextFallback)return m=!0,c[d];throw u=o.Mf,_}finally{v.stop();const e={...(0,l.Q)(n),fallback:m,falseyPassthrough:p,inSync:y,durationMillisecs:v.durationMillisecs(),sendTrackingEvent:!1};_&&(e.error={name:_.name,message:_.message}),(0,a.X)(t,u,e)}}async function m(e,t,r){const{sourceRecord:n,destinationRecord:i,clearKey:o,encryptedKey:a,config:s}=e,c=n[a],l=s.lazyDecryption?function(e,t,r,n){return p(n)?new d.o(_.bind(null,e,t,r,n)):null}(t,r,c,e):await _(t,r,c,e);i[o]=l}function p(e){let{sourceRecord:t,encryptedKey:r,clearKey:n,config:i}=e;return Boolean(t[r]||i.cleartextFallback&&t[n])}function y(e){return{...e,falseyPassthrough:h}}async function v(e,t,r,n,o){const a=new d.o(e),s=(0,c.c)(n);r=(0,u.h)(r),o&&(r=i()(r,y));let l=Array.from((0,c.X)(r,n,s,{direction:"decrypt"}));return o||(l=l.filter(p)),await function(e,t,r){return Promise.all(e.map((e=>m(e,t,r))))}(l,a,t),s}},799391:(e,t,r)=>{function n(e){return"self"in e}function i(e){var t;const r=Array.from(null!==(t=e.shareWith)&&void 0!==t?t:[]);return r.some(n)||r.push({self:void 0}),r}r.d(t,{g:()=>i})},594731:(e,t,r)=>{if(r.d(t,{X:()=>l,c:()=>a}),!/^(1385|1993|27421|40211)$/.test(r.j))var n=r(378288);if(!/^(1385|1993|27421|40211)$/.test(r.j))var i=r(64404);function o(e,t,r,i){Object.entries(i).forEach((i=>{var o;let[a,s]=i;const c=null!==(o=(0,n.w)(a))&&void 0!==o?o:a;c in e||c in t||(r[a]=s)}))}function a(e){return Array.isArray(e)?[]:{}}function s(e,t){return"*"in e?Object.keys(t).map((t=>({clearKey:t,encryptedKey:t,config:e["*"]}))):Object.entries(e).flatMap((e=>{let[t,r]=e;if(!r)return[];return[{clearKey:t,encryptedKey:(0,n.u)(t),config:r}]}))}function*c(e,t,r,n){const i=s(e,t);for(let o=0;o<i.length;o++){const e=i[o];yield{...e,destinationRecord:r,sourceRecord:t,sourceRecordStack:n}}}function*d(e,t,r,n,i){const o=s(e,t);for(let s=0;s<o.length;s++){const e=o[s],{clearKey:c,encryptedKey:d,config:u}=e,f=t["decrypt"===n.direction&&Array.isArray(t[d])&&"*"in u?d:c],h="encrypt"===n.direction&&Array.isArray(f)&&"*"in u?d:c;if(f){const e=a(f);r[h]=e,yield*l(u,f,e,n,i)}}}function*l(e,t,r,n){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];a=[t,...a];const[s,l]=(0,i.v)(e);if("*"in s&&"*"in l)throw new Error("conflicting wildcards");if("*"in s&&!Array.isArray(r))throw new Error("leaf wildcard is supported for arrays only");o(s,l,r,t),yield*c(s,t,r,a),yield*d(l,t,r,n,a)}},384782:(e,t,r)=>{r.d(t,{o:()=>n});class n{constructor(e){this.thunk=e,this.promise=null}force(){return null===this.promise&&(this.promise=this.thunk(),this.thunk=null),this.promise}}},64404:(e,t,r)=>{function n(e){const t={},r={};return Object.entries(e).map((e=>{let[t,r]=e;return[(n=t,n.split(/\.(.+)/,2)),r];var n})).forEach((e=>{let[n,i]=e;1===n.length?t[n[0]]=i:(n[0]in r||(r[n[0]]={}),r[n[0]][n[1]]=i)})),[t,r]}r.d(t,{v:()=>n})},378288:(e,t,r)=>{function n(e){return"tanker_encrypted_".concat(e)}function i(e){var t;return null===(t=/^tanker_encrypted_(.*)/.exec(e))||void 0===t?void 0:t[1]}r.d(t,{u:()=>n,w:()=>i})},781199:(e,t,r)=>{function n(e,t){var r,n;return{shareWithGroups:e.shareWithGroups.concat(t.shareWithGroups),shareWithUsers:e.shareWithUsers.concat(t.shareWithUsers),shareWithSelf:(null!==(r=t.shareWithSelf)&&void 0!==r?r:e.shareWithSelf)||(null!==(n=e.shareWithSelf)&&void 0!==n?n:t.shareWithSelf)}}r.d(t,{S:()=>n})},536402:(e,t,r)=>{async function n(e,t){if(null==t)throw new Error("provisional identity is blank");await e.delete("/api/security/provisional_tanker_identities",{body:{provisional_tanker_identity:t}})}r.d(t,{K:()=>n})},911306:(e,t,r)=>{function n(e,t){var r;return null===(r=e.find((e=>"object"===typeof e&&e[t])))||void 0===r?void 0:r[t]}function*i(e,t,r){for(const n of e)yield*o(n,t,r)}function*o(e,t,r){if(e&&t)for(const a of Object.keys(e))if(t.includes(a)){const e=[...r,a];yield e.join(".")}else if(Array.isArray(e)){const n=[...r,"*"];yield*i(e,t,n)}else{const i=[...r,a];yield*o(e[a],n(t,a),i)}}function a(e,t,r){const n={};for(const i of o(e,t,[]))n[i]=r;return n}r.d(t,{v:()=>a})},151180:(e,t,r)=>{if(r.d(t,{y:()=>u}),!/^(1385|1993|27421|40211)$/.test(r.j))var n=r(172045);if(!/^(1385|1993|27421|40211)$/.test(r.j))var i=r(66212);var o=r(973650);if(!/^(1385|1993|27421|40211)$/.test(r.j))var a=r(575303);if(!/^(1385|1993|27421|40211)$/.test(r.j))var s=r(233370);var c=r(124945),d=r(12380);if(!/^(1385|1993|27421|40211)$/.test(r.j))var l=r(430020);async function u(e,t,r,f,h,_){let m=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},p=arguments.length>7&&void 0!==arguments[7]&&arguments[7],y=arguments.length>8&&void 0!==arguments[8]&&arguments[8];(0,s.n)(_),(0,l.N)(m,_);const v=(0,n.Z)();f=(0,c.y)(f,{...m,isRetrying:p,featureName:_,account:r,callId:v,v1compat:y});const g={...m,isRetrying:p,featureName:_,account:r,callId:v,v1compat:y,sendTrackingEvent:!1},w=(e,t)=>{g[e]=t};let k=i.Uz;const b=new a.f;b.start();try{return await(0,d._)(e,t,f,h,w)}catch(E){if(k=i.UC,g.error=E,!p)return u(e,t,r,f,h,_,m,!0,y);throw E}finally{b.stop(),g.durationMillisecs=b.durationMillisecs(),(0,o.X)(t,k,g)}}},671784:(e,t,r)=>{function n(e,t){let{tanker:r,module:n}=e;return Boolean(r.status===n.Tanker.statuses.READY&&function(e){const{tanker_identity:t}=e;if(!t)return!1;const{skip_email_verification:r,allow_skip_email_verification:n}=e,{email_registered_at:i,passphrase_registered_at:o,oidc_registered_at:a}=t;return i||a||o&&r&&n}(t))}r.d(t,{a:()=>n})},580458:(e,t,r)=>{r.d(t,{B8:()=>c,HI:()=>l,HY:()=>a,Qz:()=>s,Yp:()=>d,vc:()=>o});var n,i=r(715738);const o={appId:i.ZP.TANKER_APP_ID,url:i.ZP.TANKER_API},a="tanker_encrypted_",s="tanker_perform_reshare_storage_key",c=60*(null!==(n=i.ZP.RESHARES_INTERVAL_IN_MINUTES_VALUE)&&void 0!==n?n:240)*1e3,d=1e3,l=Object.freeze({MAIN:"main",SYNC:"sync",SECRETARIES:"secretaries"})},275458:(e,t,r)=>{if(r.d(t,{OI:()=>d,Wu:()=>c,bI:()=>s,o:()=>a}),!/^(1385|1993|27421|40211)$/.test(r.j))var n=r(66212);var i=r(551663),o=r(702794);function a(e){return e.message.startsWith("could not find key for resource")}function s(e){return e.message.includes("Closing the client")}async function c(e,t,r,n){if("patient"!==t.kind)return null;if(!a(r))return null;const i=await(0,o.nw)(e,n);return i||function(e,t){const r={document_id:t};return e.post("/master_patient_reshares",{body:r})}(e,n)}function d(e){return function(e){return["HTTP error 504","HTTP error 502","HTTP error 520","HTTP error 525","Invalid provisional identity provided: null"].some((t=>null===e||void 0===e?void 0:e.message.includes(t)))||["InvalidStateError","NetworkError","ChunkLoadError","TypeError","UnknownError"].some((t=>e.name===t))}(e)?{errorMessage:i.Z.t("tanker.errors.temporary_error"),trackerName:n.Fl,error:e}:function(e){return e.message.includes("mutation operation was attempted on a database that did not allow mutations")}(e)?{errorMessage:i.Z.t("tanker.errors.browser_not_supported_html"),trackerName:n._X,error:e}:function(e){return"QuotaExceededError"===e.name||e.message.includes("QuotaExceededError")}(e)?{errorMessage:i.Z.t("tanker.errors.unexpected_device_error"),trackerName:n.mv,error:e}:a(e)?{errorMessage:i.Z.t("tanker.errors.no_key_for_resource_error"),trackerName:n.xY,error:e}:{errorMessage:i.Z.t("tanker.errors.temporary_error"),trackerName:n.Az,error:e}}},346276:(e,t,r)=>{r.d(t,{x:()=>i});var n=r(239232);async function i(){const{tanker:e}=await(0,n.O)();return e.createOidcNonce()}},702794:(e,t,r)=>{if(r.d(t,{Kh:()=>p,RW:()=>_,nw:()=>m}),!/^(1385|1993|27421|40211)$/.test(r.j))var n=r(156213);var i=r(904108);if(!/^(1385|1993|27421|40211)$/.test(r.j))var o=r(66212);var a=r(798754),s=r(973650);async function c(e,t,r){try{const t=(await e.get("/api/documents/".concat(r.document_id,"/tanker_resource_id"))).bodyData.resource_id;if(null==t)throw new Error("no resource id for document ".concat(r.document_id));return[{...r,resourceId:t}]}catch(a){var i;return 404===(null===(i=a.response)||void 0===i?void 0:i.status)?(f(e,r.id,t),(0,s.X)(e,o.zE,{document_id:r.document_id,error:a})):(0,n.T)(a,{tags:{document_id:r.document_id}}),[]}}const d=(0,a._)(i.Q5);async function l(e,t,r,i){const{document_id:a,resourceId:c,subject_type:l,subject_id:u}=i,h=function(e,t){const r={Agenda:"agendaId",MasterPatient:"masterPatientId",PatientBase:"patientBaseId",Patient:"patientId"};if(null==r[e])throw new Error("unsupported subject type");return{[r[e]]:t}}(l,u);try{const{sharedWith:n}=await d(e,[c],h,t);(0,s.X)(t,o.Cb,{document_id:a,parsedShareWith:h,sharedWith:n}),f(t,i.id,r)}catch(_){(0,n.T)(_,{tags:{document_id:a}}),(0,s.X)(t,o.zE,{document_id:a,parsedShareWith:h,error:_})}}async function u(e,t,r,n){await Promise.all(r.map(l.bind(null,e,t,n)))}async function f(e,t,r){let n;"doctor"===r?n="master_patient_reshares":"patient"===r&&(n="document_reshares"),await e.delete("/".concat(n,"/").concat(t))}function h(){return/^\/(sessions|signin)(\/|$)/.test(window.location.pathname)}async function _(e,t){const r=await async function(e,t){let r;return"doctor"===t?r="/master_patient_reshares.json":"patient"===t&&(r="/document_reshares.json"),(await e.get(r)).bodyData.reshares}(e,t),n=await Promise.all(r.map(c.bind(null,e,t)));return[].concat(...n)}async function m(e,t){return(await e.get("/master_patient_reshares/".concat(t))).bodyData.reshare}async function p(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3?arguments[3]:void 0;!h()&&r.length>0&&await u(e,t,r,n)}},239232:(e,t,r)=>{r.d(t,{O:()=>i});var n=r(580458);async function i(){const e=await Promise.all([r.e(42830),r.e(48764),r.e(81714),r.e(10021),r.e(35300),r.e(42304)]).then(r.bind(r,935300));return{tanker:new(0,e.Tanker)(n.vc),module:e}}},66212:(e,t,r)=>{r.d(t,{$_:()=>Z,A7:()=>m,Az:()=>M,BS:()=>D,Cb:()=>B,Dy:()=>s,E5:()=>k,Fl:()=>C,GD:()=>T,GW:()=>q,Gp:()=>u,Hi:()=>j,Iz:()=>$,K9:()=>S,Mf:()=>x,NJ:()=>c,O7:()=>l,P7:()=>O,Q:()=>p,Ql:()=>h,Rd:()=>U,UC:()=>g,UE:()=>d,Uz:()=>v,Wh:()=>X,Ye:()=>K,_X:()=>R,aP:()=>E,cO:()=>z,dY:()=>i,fl:()=>w,iC:()=>y,lN:()=>H,mv:()=>I,o9:()=>o,oU:()=>A,pM:()=>b,qH:()=>f,vK:()=>n,wc:()=>N,xY:()=>P,zE:()=>W,zM:()=>a,zu:()=>_});const n="attach_provisional_identity_success",i="attach_provisional_identity_fail",o="attach_provisional_identity_error",a="tanker_verification_success",s="tanker_verification_provisional_send_email_error",c="tanker_verification_wrong_code",d="tanker_verification_too_many_attempts",l="tanker_verification_expired_verification",u="tanker_verification_provisional_error",f="tanker_verification_send_email_error",h="tanker_verification_email_code_error",_="tanker_verification_user_already_exists",m="tanker_verification_unexpected_status",p="tanker_verification_passphrase_error",y="tanker_verification_wrong_password",v="tanker_encrypt_v2_success",g="tanker_encrypt_v2_error",w="tanker_encrypt_v2_field_success",k="tanker_encrypt_v2_field_error",b="tanker_decrypt_v2_success",E="tanker_decrypt_v2_error",N="tanker_decrypt_v2_field_success",x="tanker_decrypt_v2_field_error",A="encryption_file_success",j="encryption_file_error",T="tanker_sync_groups_error",S="get_decrypted_document_success",R="decrypt_file_indexed_db_not_supported",I="decrypt_file_quota_exceeded",P="no_key_for_resource_error",C="unhandled_errors",M="get_decrypted_document_error",O="get_decrypted_document_additional_prov_identity_not_verified",B="tanker_document_reshare_success",W="tanker_document_reshare_failure",z="get_groups_and_users_for_start",Z="get_groups_and_users_for_end",K="init_doctor_error",$="tanker_context_render",D="tanker_email_verification_success",U="tanker_email_verification_fail",H="tanker_set_verification_method_fail",q="desynchronized_password",X="prevented_desynchronized_password_success"},798754:(e,t,r)=>{r.d(t,{_:()=>o});var n=r(658485),i=r(156213);function o(e){return async function(){const t=new n.hG("no permission to decrypt resource");try{return await e(...arguments)}catch(o){var r;throw"InvalidArgument"===o.name&&null!==(r=o.message)&&void 0!==r&&r.startsWith("could not find key for resource")&&(0,i.T)(t),o}}}},209047:(e,t,r)=>{async function n(e,t,r){if("documentId"in r){const e=r.documentId,{bodyData:{resource_id:n}}=await t.get("/api/documents/".concat(e,"/tanker_resource_id"));return n}if("encryptedData"in r){let t=r.encryptedData;const{tanker:n,module:{fromBase64:i}}=await e();return"string"===typeof t&&(t=i(t)),n.getResourceId(t)}throw new Error("documentId or encryptedData should be provided")}r.d(t,{f:()=>n})},973650:(e,t,r)=>{r.d(t,{X:()=>_});var n=r(76831),i=r.n(n),o=r(650242),a=r(768593),s=r(834444),c=r.n(s),d=r(89125);class l{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;this.batch=[],this.expeditionTimeout=null,this.onBatch=e,this.timeoutMillisecs=t,this.maxBatchSize=r}send(e){this.batch.push(e),null==this.expeditionTimeout&&this.scheduleBatch(),this.batch.length>=this.maxBatchSize&&this.sendBatch()}scheduleBatch(){this.expeditionTimeout=window.setTimeout(this.sendBatch.bind(this),this.timeoutMillisecs)}sendBatch(){const e=this.batch;this.reset(),this.onBatch(e)}reset(){this.batch=[],this.expeditionTimeout=null}}function u(e,t){const r=t.map((e=>c()({eventType:o.zH,...e})));e.request({pathname:o.PG,method:"POST",body:r})}const f=new l((function(e){e.forEach((e=>{(0,a.ZP)(e)}))})),h=new Map;function _(e,t,r){let{account:n,document:o,error:a,...s}=r;const{sendTrackingEvent:c,sendNewRelicEvent:_,...m}={sendTrackingEvent:!0,sendNewRelicEvent:!0,...s},p=i().getParser(window.navigator.userAgent),y=p.getBrowserName(),v=p.getBrowserVersion(),g=p.getPlatformType(),w={name:t,details:{...m,name:t,error:(0,d.J)(a),userAgent:window.navigator.userAgent,browserName:y,browserVersion:v,browserType:g,account_kind:null===n||void 0===n?void 0:n.kind,account_id:null===n||void 0===n?void 0:n.id,tanker_identity_id:null===n||void 0===n?void 0:n.tanker_identity_id,provisional_tanker_identity_id:null===n||void 0===n?void 0:n.provisional_tanker_identity_id,document_id:null===o||void 0===o?void 0:o.id,document_created_at:null===o||void 0===o?void 0:o.created_at}};if(c&&f.send(w),_){let t=h.get(e);null==t&&(t=new l(u.bind(null,e)),h.set(e,t)),t.send(w)}}},566085:()=>{},715069:()=>{},212417:()=>{},111271:()=>{},43278:()=>{},275052:()=>{},514328:()=>{},924861:()=>{},979438:()=>{},85458:()=>{}}]);
//# sourceMappingURL=91655-3acacfd626a92e05ae9a.js.map